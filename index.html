<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>рдЕрдВрдЬрд▓реА рдореИрдо тАв Control Center</title>

<style>
:root{
  --bg1:#fff3ea;
  --bg2:#ffe1cf;
  --accent:#8b2d2d;
  --soft:#b35c5c;
  --card:#ffffff;
}
*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  font-family:system-ui,"Noto Sans Devanagari",sans-serif;
  background:linear-gradient(135deg,var(--bg1),var(--bg2));
  display:flex;
  align-items:center;
  justify-content:center;
}
.card{
  width:94%;
  max-width:460px;
  background:var(--card);
  border-radius:22px;
  padding:22px;
  box-shadow:0 14px 30px rgba(0,0,0,.12);
  text-align:center;
}
.title{font-size:26px;color:var(--accent)}
.subtitle{font-size:14px;color:#555;margin-bottom:10px}

.status{
  background:#fff7f4;
  border:1px solid #f3d4c7;
  border-radius:14px;
  padding:10px;
  font-size:13px;
  margin:10px 0;
  color:#6b2c2c;
}

.board{
  width:100%;
  min-height:90px;
  margin-top:10px;
  padding:10px;
  border-radius:12px;
  border:1px solid #e6b2b2;
  font-size:14px;
  resize:none;
}

.actions{
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
  margin-top:12px;
}
.btn{
  border:none;
  border-radius:16px;
  padding:12px 16px;
  font-size:14px;
  cursor:pointer;
  background:linear-gradient(180deg,#c96a6a,#a13f3f);
  color:#fff;
}
.btn.secondary{
  background:#fff;
  color:var(--soft);
  border:1px dashed #e6b2b2;
}

.footer{
  font-size:11px;
  color:#777;
  margin-top:14px;
}
</style>
</head>

<body>
<main class="card">

<div class="title">ЁЯМ╕ рдЕрдВрдЬрд▓реА рдореИрдо</div>
<div class="subtitle">Verified Control Center (Final)</div>

<div class="status" id="statusBox">
  ЁЯМ╕ рдореЛрдб: рдорд┐рддреНрд░+++ (default)
</div>

<textarea id="tempBoard" class="board"
placeholder="рдпрд╣ рдЕрд╕реНрдерд╛рдпреА Digital Board / Test Area рд╣реИтАж"></textarea>

<div class="actions">
  <!-- MODE -->
  <button class="btn secondary" onclick="setMode('friend')">ЁЯМ╕ рдорд┐рддреНрд░+++ рдореЛрдб</button>

  <!-- MAIN NAV -->
  <button class="btn" onclick="openChat()">ЁЯЦК Digital Board</button>
  <button class="btn secondary" onclick="openAdmin()">ЁЯФР Admin Panel</button>

  <!-- TESTING -->
  <button class="btn" onclick="micTest()">ЁЯОд Mic Test</button>
  <button class="btn" onclick="ttsTest()">ЁЯФК TTS Test</button>
</div>

<div class="footer">
  Index Locked тАв One-Time Configuration Hub
</div>

</main>

<!-- ================= VOICE ================= -->
<script src="voice/stt.js"></script>
<script src="voice/tts.js"></script>

<!-- ================= CORE ================= -->
<script src="core/KnowledgeStore.js"></script>
<script src="core/ThinkingEngine.js"></script>
<script src="core/PresentationEngine.js"></script>

<script>
/* ================= MODE ================= */
let ANJALI_MODE = localStorage.getItem("ANJALI_MODE") || "friend";

function setMode(mode){
  ANJALI_MODE = mode;
  localStorage.setItem("ANJALI_MODE", mode);

  if(mode === "friend"){
    statusBox.innerText = "ЁЯМ╕ рдореЛрдб: рдорд┐рддреНрд░+++ (рдкрд╣рд▓реЗ рд╕реБрдирдирд╛, рдлрд┐рд░ рдорд╛рд░реНрдЧрджрд░реНрд╢рди)";
    tempBoard.value =
      "рдЕрдВрдЬрд▓реА рдорд┐рддреНрд░+++ рдореЛрдб рдореЗрдВ рд╣реИред\nрдпрд╣рд╛рдБ рднрд╛рд╡рдирд╛рддреНрдордХ рд╕рдордЭ рдкрд╣рд▓реЗ рдЖрдПрдЧреАред";
  }else{
    statusBox.innerText = "ЁЯСйтАНЁЯПл рдореЛрдб: рд╢рд┐рдХреНрд╖рдХ";
    tempBoard.value =
      "рдЕрдВрдЬрд▓реА рд╢рд┐рдХреНрд╖рдХ рдореЛрдб рдореЗрдВ рд╣реИред\nрд╕реНрдкрд╖реНрдЯ рдЙрддреНрддрд░ рдФрд░ Digital Board рд╕рдХреНрд░рд┐рдпред";
  }
}
setMode(ANJALI_MODE);

/* ================= MIC TEST ================= */
function micTest(){
  if (!window.AnjaliSTT || !AnjaliSTT.available) {
    statusBox.innerText = "тЭМ Mic рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ";
    return;
  }
  AnjaliSTT.unlock();
  AnjaliSTT.onText = text => tempBoard.value = text;
  statusBox.innerText = "ЁЯОд рд╕реБрди рд░рд╣реА рд╣реВрдБтАж";
  AnjaliSTT.start();
}

/* ================= TTS TEST ================= */
function ttsTest(){
  if(!("speechSynthesis" in window)){
    statusBox.innerText = "тЭМ рдмреНрд░рд╛рдЙрдЬрд╝рд░ TTS рд╕рдкреЛрд░реНрдЯ рдирд╣реАрдВ рдХрд░рддрд╛";
    return;
  }
  const text = "рдирдорд╕реНрддреЗ! рдореИрдВ рдЕрдВрдЬрд▓реА рдореИрдо рд╣реВрдБред";
  tempBoard.value = text;
  statusBox.innerText = "ЁЯФК рдмреЛрд▓ рд░рд╣реА рд╣реВрдБтАж";
  speechSynthesis.speak(new SpeechSynthesisUtterance(text));
}

/* ================= NAV ================= */
function openAdmin(){ location.href = "admin.html"; }
function openChat(){ location.href = "anjali_chat.html"; }
</script>

</body>
</html>
